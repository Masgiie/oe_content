parameters:
  oe_content_persistent.allowed_content_types:
    - node
services:
  oe_content_persistent.resolver:
    class: \Drupal\oe_content_persistent\ContentUuidResolver
    arguments: ['@entity_type.manager', '@language_manager', '@path.alias_manager', '@cache.data', '@renderer','%oe_content_persistent.allowed_content_types%']

  oe_content_persistent.subscriber:
    class: \Drupal\oe_content_persistent\EventSubscriber\UuidPathSubscriber
    tags:
      - { name: event_subscriber }
    arguments: ['@oe_content_persistent.resolver']

  oe_content_persistent.redirect_subscriber:
    class: \Drupal\oe_content_persistent\EventSubscriber\PersistentUrlRedirectSubscriber
    arguments: ['@oe_content_persistent.resolver']
    tags:
      - { name: event_subscriber }
